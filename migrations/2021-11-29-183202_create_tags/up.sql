CREATE TABLE IF NOT EXISTS tags (
  id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  key VARCHAR NOT NULL,
  value VARCHAR NOT NULL,
  UNIQUE(key, value)
);

CREATE TABLE IF NOT EXISTS alert_tags (
  alert_id INT REFERENCES alerts(id) ON DELETE CASCADE,
  tag_id INT REFERENCES tags(id) ON DELETE CASCADE,
  PRIMARY KEY(alert_id, tag_id)
)

